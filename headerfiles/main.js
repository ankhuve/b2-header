var connectionTime = 4000; // time for cable to connect
var connectionDelay = 500; // time before connection animation starts
var auraDelay = connectionTime + connectionDelay - 300;


var draw = SVG('header-svg'); // id of header div

var svg = draw.svg('<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="illustration" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"y="0px" xml:space="preserve"> <style type="text/css"> .st0{display:none;fill:#272933;} .st1{fill:#FFFFFF;} .st2{fill:none;stroke:#1D9B46;stroke-width:10;stroke-linecap:round;stroke-miterlimit:10;} .st3{fill:none;stroke:#1D9B46;stroke-width:20;stroke-miterlimit:10;} .st4{fill:none;stroke:#1D9B46;stroke-width:10;stroke-miterlimit:10;} .st5{fill:#33CC66;stroke:#1D9B46;stroke-width:10;stroke-linecap:round;stroke-miterlimit:10;} .st6{fill:#33CC66;} .st7{opacity:0.41;fill:#3A7C47;} .st8{opacity:0.41;fill:#2DA847;} .st9{fill:#50D3D3;} .st10{clip-path:url(#SVGID_2_);} .st11{fill:#1D9B46;} .st12{clip-path:url(#SVGID_4_);} .st13{clip-path:url(#SVGID_6_);} .st14{fill:none;stroke:#99FFFF;stroke-width:15;stroke-linecap:round;stroke-miterlimit:10;} .st15{fill:#9B9B9B;} .st16{fill:#FFD29C;} .st17{fill:#FFAC3E;} .st18{fill:#FF8040;} .st19{fill:#A2E7FC;} </style> <title>B2-header</title><g id="stars"> <circle class="st1" cx="980" cy="36.2" r="2.2"/> <circle class="st1" cx="811" cy="113.4" r="1.4"/> <circle class="st1" cx="870.5" cy="154.8" r="2.2"/> <ellipse transform="matrix(0.9984 -5.738978e-002 5.738978e-002 0.9984 -1.2097 73.2921)" class="st1" cx="1275.4" cy="57.7" rx="4.1" ry="4.1"/> <ellipse transform="matrix(0.9984 -5.738978e-002 5.738978e-002 0.9984 -4.8181 71.217)" class="st1" cx="1237.5" cy="119.5" rx="2.2" ry="2.2"/> <circle class="st1" cx="985.5" cy="197.8" r="5.8"/> <circle class="st1" cx="1185.5" cy="399.8" r="2.2"/> <circle class="st1" cx="1109.5" cy="349.8" r="2.2"/> <circle class="st1" cx="927.5" cy="415.8" r="2.2"/> <circle class="st1" cx="717.5" cy="493.8" r="4.3"/> <circle class="st1" cx="227.5" cy="203.8" r="2.2"/> <circle class="st1" cx="267.5" cy="107.8" r="2.2"/> <circle class="st1" cx="27.5" cy="47.8" r="3.6"/> <circle class="st1" cx="65.5" cy="435.8" r="2.2"/> <circle class="st1" cx="1835.5" cy="501.8" r="2.2"/> <circle class="st1" cx="1685.5" cy="199.8" r="4.7"/> <circle class="st1" cx="1571.5" cy="69.8" r="2.2"/> <circle class="st1" cx="1849.5" cy="79.8" r="2.2"/> <circle class="st1" cx="1411.5" cy="481.8" r="2.2"/> </g> <g id="connection"> <g id="right_1_"> <path class="st2" d="M1319.7,363.6c13.4,4.4,23,17.1,23,32c0,18.6-15.1,33.7-33.7,33.7c-5.6,0-10.8-1.4-15.4-3.7"/> <path class="st3" d="M1339.8,409.4c0,0,115.5,35.5,221.6,58.6c186.7,40.7,342.7,11.6,524.7-50c459.2-155.3,1108-24.4,1108-24.4"/> </g> <g id="left_1_"> <path class="st4" d="M495,265c0,0,44,207,209,193s323.9-121,571.4-72"/> <path class="st5" d="M1293.7,425.4c-10.8-5.6-18.2-16.9-18.2-29.9c0-18.6,15.1-33.7,33.7-33.7c3.7,0,7.3,0.6,10.6,1.7"/> </g> <circle id="ball" class="st6" cx="1309.1" cy="395.5" r="29.7"/> </g> <g id="planet"> <g id="globe"> <g id="aura"> <circle id="outer" class="st7" cx="495" cy="255" r="247.7"/> <circle id="inner" class="st8" cx="495" cy="255" r="203"/> </g> <circle id="water" class="st9" cx="495" cy="255" r="148.2"/> <g id="land"> <g> <defs> <circle id="SVGID_1_" cx="495" cy="255" r="148.2"/> </defs> <clipPath id="SVGID_2_"> <use xlink:href="#SVGID_1_"  style="overflow:visible;"/> </clipPath> <g class="st10"> <path class="st11" d="M677.4,143h-47.3c-3.9-0.1-7.1,3-7.1,6.9c0,0.1,0,0.2,0,0.3v0.1c0,3.5,2.2,5.8,5.6,7.8H655 c4.2,0,7,2.6,7,6.6v-0.1c0,4-2.8,6.5-7,6.5h-41.2c-3.7,1-6.6,3.9-6.6,7.5s2.8,6.5,6.4,7.5H672c4.2,0,7.5,3,7.5,7s-3.4,7-7.5,7 h-64.4c-3.4,1-5.7,4.1-5.6,7.7l0,0c0,3.8,2.7,6.3,6.7,7.3h35c4-0.1,7.3,3,7.3,7c0,0.1,0,0.1,0,0.2v0.1c0,4-3.2,6.7-7.3,6.7H632 c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5h31.2c2,0,3.9,0.7,5.3,2c1.4,1.5,2.2,3.4,2.2,5.4c-0.1,4.1-3.4,7.5-7.5,7.5H558.7 c-4.2,0-7.7,3-7.7,7l0,0c0,0,0-0.1,0,0c0,4-3.4,7-7.6,7h-99.9c-3.9,0-7-3.1-7-7s3.1-7,7-7l0,0h15.8c4.2,0,7.6-3.3,7.7-7.5 c0-1.8-0.9-3.6-2.3-4.8c-1.5-1.3-3.5-1.9-5.4-1.8h-9.4c-4.2,0-7.9-4.1-7.9-8.1v-0.1c0.2-4.3,3.6-7.7,7.9-7.9h26.6l2.5,0.2 c4.2,0,7.5-2.9,7.5-6.9c-0.1-4.1-3.5-7.2-7.5-7.1l-2.5-0.1h-45.1c-4.2,0-7.5-3-7.5-7s3.4-7,7.5-7h54.2l4.1-0.1 c4,0.2,7.4-2.9,7.5-6.9c0,0,0,0,0-0.1c0-3.7-2.9-6.7-6.6-6.9h-29.3c-4.2,0-8.4-3.5-8.4-7.6v-0.1c0-4,4.2-7.3,8.4-7.3h24.4h-0.1 c3.9,0.1,7.2-3,7.3-6.9c0-0.1,0-0.2,0-0.2v-0.1c0-4-3.2-6.8-7.4-6.8h-7.8c-4.3-0.1-7.7-3.5-7.9-7.8V150c0-4,3.7-7.1,7.9-7.1 h78.7c4.1,0,7.5-3.4,7.5-7.5s3.4-7.5,7.5-7.5h105.7c4.2,0,7.6,3.4,7.6,7.6S681.6,143,677.4,143z"/> </g> </g> <g> <defs> <circle id="SVGID_3_" cx="495" cy="255" r="148.2"/> </defs> <clipPath id="SVGID_4_"> <use xlink:href="#SVGID_3_"  style="overflow:visible;"/> </clipPath> <g class="st12"> <path class="st11" d="M766.2,434h-47.3c-4.2,0-8.9-3.4-8.9-7.4v-0.1c0-3.5,3.9-6.5,7.3-7.5h26.5c4.2,0,7.2-2.9,7.2-6.9v0.1 c0.1-3.9-3.1-7.2-7-7.2c-0.1,0-0.1,0-0.2,0h-41.2c-3.7,0-6.6-3.4-6.6-7s2.8-6,6.4-7h58.3c4.1,0,7.5-3.4,7.5-7.5 s-3.4-7.5-7.5-7.5h-64.3c-3.5,0-5.4-3.5-5.4-6.9l0,0c0-3.8,2.5-6,6.4-8h35c4.2,0,7.6-2.5,7.6-6.4v-0.1c0-4-3.4-6.5-7.6-6.5 h-11.6c-4.2,0-7.5-4-7.5-8s3.4-8,7.5-8H752c2.1,0,4-0.4,5.3-1.7c1.4-1.3,2.2-3.2,2.2-5.1c-0.1-4.1-3.4-7.4-7.5-7.3c0,0,0,0,0,0 H647.5c-4.2,0-7.7-3-7.7-7l0,0c0,0,0,0.1,0,0c0-4-3.4-7-7.6-7h-99.9c-4.1,0-7.5,2.5-7.5,6.5s3.4,6.5,7.5,6.5h15.8 c4.2,0.2,7.6,3.6,7.7,7.8c0,1.9-0.9,3.8-2.3,5.1c-1.5,1.4-3.4,2.1-5.5,2.1h-9.4c-4.2,0-6.7,3.8-6.7,7.8v0.1 c0,4,2.5,8.1,6.7,8.1h26.6l2.5-0.3c4.2,0,7.5,2.9,7.5,6.8s-3.4,6.8-7.5,6.8l-2.5-0.3h-45.1c-4.1,0-7.5,3.4-7.5,7.5 s3.4,7.5,7.5,7.5h58.3c4.2,0,7.5,2.6,7.5,6.5c0,3.5-2.9,6.4-6.4,6.4c-0.1,0-0.1,0-0.2,0h-29.3c-4.2,0-8.2,4.3-8.2,8.3v0.1 c0,4,4,7.6,8.2,7.6h24.4l-0.4-0.1c3.7-0.1,6.8,2.8,6.9,6.5c0,0.2,0,0.4,0,0.5v0.2c0,4-2.4,7-6.6,7h-7.8c-4.2,0-7.6,3.3-7.7,7.5 v0.1c0.1,4.1,3.5,7.4,7.7,7.4h78.7c4.1,0,7.5,3.4,7.5,7.5s3.4,7.5,7.5,7.5h105.7c4.1,0,7.5-3.4,7.5-7.5S770.3,434,766.2,434z"/> </g> </g> <g> <defs> <circle id="SVGID_5_" cx="495" cy="255" r="148.2"/> </defs> <clipPath id="SVGID_6_"> <use xlink:href="#SVGID_5_"  style="overflow:visible;"/> </clipPath> <g class="st13"> <path class="st11" d="M434.5,348h-47.3c-4.2,0-7.2-4.2-7.2-8.1v-0.1c0-3.5,2.3-6.7,5.6-7.8h26.5c4.2,0,6.9-2.6,6.9-6.6v0.1 c0-4-2.8-7.5-6.9-7.5h-41.2c-3.7-1-6.6-3.4-6.6-7s2.8-6,6.4-7H429c4.2,0,7.5-3,7.5-7s-3.4-7-7.5-7h-64.3 c-3.4-1-5.7-4.1-5.7-7.7l0,0c0-3.8,2.8-7.3,6.7-7.3h35c4.2,0,8.3-3.2,8.3-7.2v-0.1c0-4-4.1-7.7-8.3-7.7h-11.6 c-4.2,0-7.5-3-7.5-7s3.4-7,7.5-7h31.2c2,0,3.9-0.7,5.3-2c1.4-1.5,2.2-3.4,2.2-5.4c-0.1-4.1-3.4-7.5-7.5-7.5H315.8 c-4.2,0-7.7-3-7.7-7l0,0c0-0.1,0,0.1,0,0c0-4-3.4-7-7.6-7h-99.9c-3.9,0-7,3.1-7,7s3.1,7,7,7h15.8c4.2,0,7.6,3.3,7.7,7.4 c0,1.8-0.9,3.6-2.3,4.8c-1.5,1.3-3.5,1.9-5.4,1.8H207c-4.2,0-8,4.1-8,8v0.1c0,4,3.8,6.9,8,6.9h26.6l2.5,0.3 c4.1,0,7.4,3.3,7.6,7.4c-0.1,4.1-3.5,7.3-7.6,7.3h-47.6c-4.2,0-7.6,3-7.6,7s3.4,7,7.6,7h54.2l4.1,0.1c4-0.2,7.4,3,7.5,7 c0,0,0,0,0,0c0,3.6-2.9,5.9-6.6,6.9h-29.3c-4.2,0-8.5,3.5-8.5,7.5v0.1c0,4,4.3,6.4,8.5,6.4h24.4l-0.1,0.5 c4.1,0.1,7.3,3.5,7.2,7.6v0.1c0,4-3.1,6.8-7.3,6.8H235c-4.2,0-7,3.7-7,7.8v0.1c0,4,2.8,8.1,7,8.1h78.7c4.2,0,7.5,3,7.5,7 s3.4,7,7.5,7h105.7c4.2,0,7.5-3,7.5-7S438.7,348,434.5,348z"/> </g> </g> </g> <g id="clouds"> <path class="st1" d="M484.2,348h-32.7c-0.4-0.2-0.8-0.4-1.1-0.7c-3.5-0.7-6.1-3.7-6.1-7.3l-0.1-0.2l0.1-0.4 c0-3.9-3.2-7.5-7.1-7.5H367c-1.9,0.1-3.8,0.9-5.1,2.3c-1.4,1.6-2.1,3.7-2.1,5.8c0,4,3.2,7.9,7.2,7.9h33.7c3.9,0,7,3.1,7,7 s-3.1,7-7,7h-15.9c-1.9-0.1-3.7,0.5-5.1,1.7c-1.3,1.3-2.1,3.1-2.1,5c0,4,3.2,7.2,7.2,7.3h62.8c2-0.1,3.8-0.9,5.2-2.3 c1.4-1.4,2.2-3.3,2.2-5.3v-0.1c0-4,3.1-6.4,7-6.4h22.2c2-0.2,3.8-1.1,5.1-2.5c1.3-1.2,2.1-2.9,2.1-4.7 C491.4,350.8,488.2,348,484.2,348z"/> <path class="st1" d="M532.3,186H565c0.4,0,0.8,0,1.1,0.1c3.5,0.5,6.1,3.5,6.2,7h0.1l-0.1,0.4c0,3.9,3.2,7.5,7.1,7.5h70.2 c1.9-0.1,3.8-0.9,5.1-2.3c1.4-1.4,2.1-3.3,2.1-5.3c0-4-3.2-7.3-7.2-7.4h-33.7c-4.1,0-7.5-3.4-7.5-7.5s3.4-7.5,7.5-7.5h15.9 c3.7,0.3,6.9-2.4,7.2-6.1c0-0.2,0-0.4,0-0.6c0-4-3.2-7.2-7.2-7.2h-62.8c-2,0.1-4,0.9-5.5,2.3c-1.5,1.4-2.3,3.2-2.5,5.2v0.1 c0,3.9-2.5,6.5-6.5,6.5h-22.2c-4,0.3-7.1,3.7-7.2,7.7C525.1,182.7,528.3,186,532.3,186C532.3,186,532.3,186,532.3,186z"/> <path class="st1" d="M436.8,253.5c0,2.1-0.8,4.2-2.2,5.8c-1.4,1.4-3.2,2.7-5.3,2.7h-93.8c-4.1,0-7.5-3.8-7.5-7.9 c0-2.1,0.8-4.1,2.2-5.6c1.4-1.5,3.3-2.4,5.3-2.5h10.3c4.1-0.1,7.5-3.4,7.5-7.6c0-3.6-2.6-7.4-6-7.4h-11.8 c-4.1,0.1-7.4-3.2-7.4-7.2c0,0,0-0.1,0-0.1c0-2,0.8-3.9,2.2-5.4c1.4-1.4,3.3-2.3,5.3-2.3h10.3c4.1,0,7.4-3.2,7.5-7.3 c0,0,0,0,0-0.1c0-2,0.8-3.9,2.2-5.4c1.4-1.4,3.3-2.2,5.3-2.3h27.5c4.1,0,7.5,3.4,7.5,7.5c0,4.1,3.3,7.5,7.5,7.5h23.7 c4.1,0.1,7.5,3.5,7.5,7.6c0,4.1-3.3,7.4-7.4,7.4c0,0,0,0,0,0h-18c-3.4,0-6,3.8-6,7.4c0,4.2,3.3,7.5,7.5,7.6h19 C433.4,246,436.8,249.4,436.8,253.5z"/> <path class="st1" d="M632.1,332h-26.4c-4.1,0-7.3-3.4-7.3-7.4c0-2,0.8-3.9,2.2-5.4c1.4-1.4,3.2-2.2,5.2-2.2h43.1 c1.8,0,3.5-0.6,4.7-1.8c1.3-1.3,2-3,2-4.8c0-3.5-2.9-6.4-6.4-6.3c-0.1,0-0.2,0-0.2,0h-17c-3.6,0.1-6.6-2.8-6.7-6.5 c0,0,0-0.1,0-0.1c0-3.2,2.3-6.4,5.3-6.4h16.1c1.8-0.1,3.5-0.9,4.7-2.3c1.3-1.3,2-3.1,2-5c0-3.7-3-6.7-6.7-6.8h-21.2 c-3.6,0.1-6.6-2.8-6.7-6.4c0,0,0-0.1,0-0.1c0-3.6-3-6.5-6.6-6.5c0,0-0.1,0-0.1,0h-24.7c-3.5-0.2-6.5,2.4-6.7,5.9 c0,0.1,0,0.3,0,0.4c0,3.7-3,6.6-6.7,6.6c0,0,0,0,0,0h-9.3c-1.8,0-3.5,0.7-4.7,2c-1.3,1.3-2,3.1-2,5c0,3.7,2.9,6.8,6.7,7h10.6 c3,0,5.3,3.2,5.3,6.4c0,3.6-3,6.6-6.6,6.6c0,0-0.1,0-0.1,0h-9.3c-1.7,0-3.4,0.7-4.6,1.9c-1.2,1.2-1.9,2.9-1.9,4.7 c-0.1,1.7-0.8,3.4-2.1,4.5c-1.3,1.2-3,1.9-4.7,1.9h-36.7c-2,0.2-3.8,1.1-5.1,2.6c-2.9,2.8-2.9,7.5,0,10.3 c1.4,1.4,3.2,2.1,5.1,2.1h33.7c4.1,0,7.4,3.9,7.4,8s-3.3,8-7.4,8h-15.9c-2,0-3.8,0.2-5.1,1.5c-1.4,1.4-2.1,3.2-2.1,5.1 c0,4,3.2,7.3,7.2,7.4h62.8c2-0.1,3.9-1,5.3-2.5c1.4-1.5,2.2-3.4,2.3-5.5l0,0c0-4,2.9-6,6.8-6h22.2c2,0,3.8-1.4,5.1-2.8 c1.4-1.6,2.1-3.6,2.1-5.6C639.3,335.6,636,332,632.1,332z"/> </g> <g id="shine"> <path class="st14" d="M405.2,160.9c18.2-17.3,41.1-28.9,65.8-33.2"/> <path class="st14" d="M383.3,188.5c1.7-2.9,3.5-5.7,5.4-8.4"/> </g> </g> </g> <circle id="moon_1_" class="st15" cx="495" cy="-119.8" r="12.8"/> <g id="rocket"> <g> <path id="bigflame_5_" class="st16" d="M1913.3-262.6c0,0,22.4-24.9,61.9-15.1c-0.5,40.7-30.2,56.1-30.2,56.1"/> <path id="bigflame_4_" class="st17" d="M1911.7-261.4c0,0,16.5-20.3,50.3-6.2c5.2,36.3-18.6,47.2-18.6,47.2"/> <path id="bigflame_3_" class="st18" d="M1911.7-261.4c0,0,8.2-13.9,36.2,4.8c11.1,31.8-4.4,36.2-4.4,36.2"/> <path class="st11" d="M1907.7-243c0,0-5.8-12.3,5.5-21c-0.5,5.5,10.1,13.2,16.2,11.5c-1,5,2.1,8.5,2.1,8.5s2.6,3.9,7.7,4.2 c-3.2,5.5,1.6,17.6,7.1,18.6c-11.3,8.7-21.7,0.1-21.7,0.1"/> <path class="st1" d="M1874.2-221.3c2.7-3.8,6-7.5,10-10.6c17-13.1,32.1-22,42.6-8.4s-1.8,26-18.8,39.1c-4,3.1-8.4,5.4-12.8,7"/> <path class="st11" d="M1874.2-221.3c-8.5,12.3-10.5,26.3-8.8,28.5s15.7,3.8,29.8-1.4c0,0,6-9.6-2.1-20.1 C1885-224.7,1874.2-221.3,1874.2-221.3z"/> <ellipse transform="matrix(0.791 -0.6118 0.6118 0.791 517.7185 1107.5043)" class="st19" cx="1879.8" cy="-204" rx="8.1" ry="8.1"/> </g> </g> </svg>');


// Bobble planet
var globe = svg.select('#planet');
globe.animate(3000, '<>').move(0, 20).loop(0, true);

// Move some clouds
var clouds = svg.select('#clouds .st1');
for (var i = 0; i < clouds.length(); i++){
    if(i % 2 == 1){
        clouds.members[i].animate(4000).dmove(10, 0).loop(0, true);
    } else{
        clouds.members[i].animate(5000).dmove(-10, 0).loop(0, true);
    }
}

// Slight animation for stars
var stars = svg.select('#stars .st1');
for (var k = 0; k < stars.length(); k++){
    if(k % 2 == 1){
        stars.members[k].animate(7000).dmove(10, 0).loop(0, true);
    } else {
        stars.members[k].animate(5000).dmove(0, 10).loop(0, true);
    }
}


// Planet aura
var auraInner = svg.select('#aura #inner');
auraInner.attr({'r' : 0});
var auraOuter = svg.select('#aura #outer');
auraOuter.attr({'r' : 0});

function auraAnimation(){
    auraInner.animate(3000, '<>').attr({'r' : 190}).after(function(){
        this.animate(3000, '<>').attr({'r' : 200});
        auraAnimation();
    });
}

auraInner.animate(750, '>', auraDelay).attr({'r' : 190}).after(auraAnimation);
auraOuter.animate(750, '<>', auraDelay + 250).attr({'r' : 230});


// Moon rotation around planet
var moon = svg.select('#moon_1_');
moon.animate(60000).rotate(360, 495, 265).loop();


// Rocket fun
var rocket = svg.select('#rocket');
var clickable = 1;
globe.click(function(){
    if(clickable){ // don't allow clicks if flying
        clickable = 0;
        flyRocket();
    }
});

function flyRocket(){
    rocket.animate(2000, '-').dmove(-1300, 1000).after(resetRocketPos);
}

function resetRocketPos(){
    rocket.dmove(1300, -1000);
    clickable = 1;
}


// Connection green cable
var rightConnection = svg.select('#right_1_');
rightConnection.dmove(1000, 0);
rightConnection.animate(connectionTime, '<>', connectionDelay).dmove(-1000, 0);